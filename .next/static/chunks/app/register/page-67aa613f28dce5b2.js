(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[11],{7403:function(e,r,s){Promise.resolve().then(s.bind(s,564))},9376:function(e,r,s){"use strict";var a=s(5475);s.o(a,"useRouter")&&s.d(r,{useRouter:function(){return a.useRouter}})},564:function(e,r,s){"use strict";s.r(r),s.d(r,{default:function(){return d}});var a=s(7437),o=s(2265),t=s(9376),n=s(3464),l=s(7648);function d(){let e=(0,t.useRouter)(),[r,s]=(0,o.useState)(!1),[d,i]=(0,o.useState)(""),[c,u]=(0,o.useState)({nome:"",email:"",password:"",confirmPassword:"",cpf:""}),m=e=>{let{name:r,value:s}=e.target;u(e=>({...e,[r]:s}))},p=async r=>{r.preventDefault(),i(""),s(!0);try{if(!c.nome||!c.email||!c.password||!c.cpf)throw Error("Todos os campos s\xe3o obrigat\xf3rios");if(c.password!==c.confirmPassword)throw Error("As senhas n\xe3o conferem");if(c.password.length<6)throw Error("A senha deve ter pelo menos 6 caracteres");let r=await n.Z.post("".concat("https://kw4d0mgz-3001.brs.devtunnels.ms","/auth/register"),{nome:c.nome,email:c.email,password:c.password,cpf:c.cpf});console.log("[register] response.data:",r.data),localStorage.setItem("token",r.data.token),localStorage.setItem("providerId",r.data.id),e.push("/dashboard")}catch(e){var a,o;i((null===(o=e.response)||void 0===o?void 0:null===(a=o.data)||void 0===a?void 0:a.message)||e.message||"Erro ao registrar")}finally{s(!1)}};return(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center px-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Cadastro"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"Crie sua conta de prestador"}),d&&(0,a.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-4",children:d}),(0,a.jsxs)("form",{onSubmit:p,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome Completo"}),(0,a.jsx)("input",{type:"text",name:"nome",value:c.nome,onChange:m,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Seu nome"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,a.jsx)("input",{type:"email",name:"email",value:c.email,onChange:m,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"seu@email.com"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CPF"}),(0,a.jsx)("input",{type:"text",name:"cpf",value:c.cpf,onChange:m,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"000.000.000-00"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Senha"}),(0,a.jsx)("input",{type:"password",name:"password",value:c.password,onChange:m,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"••••••••"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirmar Senha"}),(0,a.jsx)("input",{type:"password",name:"confirmPassword",value:c.confirmPassword,onChange:m,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"••••••••"})]}),(0,a.jsx)("button",{type:"submit",disabled:r,className:"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 disabled:bg-gray-400 font-medium transition",children:r?"Carregando...":"Criar Conta"})]}),(0,a.jsxs)("p",{className:"text-center text-gray-600 mt-6",children:["J\xe1 tem conta?"," ",(0,a.jsx)(l.default,{href:"/login",className:"text-blue-600 hover:underline font-medium",children:"Fa\xe7a login"})]})]})})}}},function(e){e.O(0,[464,648,971,117,744],function(){return e(e.s=7403)}),_N_E=e.O()}]);