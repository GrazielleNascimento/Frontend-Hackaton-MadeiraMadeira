(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{3517:function(e,a,t){Promise.resolve().then(t.bind(t,8625))},8625:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return d}});var s=t(7437),n=t(2265),r=t(9501),i=t(3590),l=t(4460);l.Ryn({email:l.Z_8().email("Email inv\xe1lido"),senha:l.Z_8().min(8,"Senha deve ter no m\xednimo 8 caracteres"),nome:l.Z_8().min(3,"Nome deve ter no m\xednimo 3 caracteres"),cpfCnpj:l.Z_8().regex(/^\d{11,14}$/,"CPF deve ter 11 d\xedgitos ou CNPJ deve ter 14 d\xedgitos"),areaAtuacao:l.Z_8().min(3,"\xc1rea de atua\xe7\xe3o \xe9 obrigat\xf3ria")});let o=l.Ryn({email:l.Z_8().email("Email inv\xe1lido"),senha:l.Z_8().min(1,"Senha \xe9 obrigat\xf3ria")});l.Ryn({messages:l.IXX(l.Ryn({role:l.KmV(["user","assistant"]),content:l.Z_8()})),userMessage:l.Z_8().min(1,"Mensagem n\xe3o pode estar vazia")});var c=t(8223),m=t(7648);function d(){let[e,a]=(0,n.useState)(!1),{register:t,handleSubmit:l,formState:{errors:d}}=(0,r.cI)({resolver:(0,i.F)(o),defaultValues:{email:"",senha:""}}),u=async e=>{a(!0);try{let a=await c.ON.login(e);localStorage.setItem("token",a.data.token),localStorage.setItem("providerId",a.data.id),window.location.href="/dashboard"}catch(e){var t,s;alert((null===(s=e.response)||void 0===s?void 0:null===(t=s.data)||void 0===t?void 0:t.message)||"Erro ao fazer login")}finally{a(!1)}};return(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center px-4",children:(0,s.jsxs)("div",{className:"max-w-md w-full card",children:[(0,s.jsx)("h1",{className:"text-3xl font-black text-gray-900 mb-2",children:"Bem-vindo de Volta"}),(0,s.jsx)("p",{className:"text-gray-600 mb-6",children:"Fa\xe7a login para acessar sua conta"}),(0,s.jsxs)("form",{onSubmit:l(u),className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block font-semibold text-gray-700 mb-2",children:"Email"}),(0,s.jsx)("input",{type:"email",placeholder:"seu@email.com",...t("email"),className:"input-field"}),d.email&&(0,s.jsx)("p",{className:"text-red-600 text-sm mt-1",children:d.email.message})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block font-semibold text-gray-700 mb-2",children:"Senha"}),(0,s.jsx)("input",{type:"password",placeholder:"••••••••",...t("senha"),className:"input-field"}),d.senha&&(0,s.jsx)("p",{className:"text-red-600 text-sm mt-1",children:d.senha.message})]}),(0,s.jsx)("button",{type:"submit",disabled:e,className:"w-full btn-primary disabled:opacity-50",children:e?"Entrando...":"Entrar"})]}),(0,s.jsxs)("p",{className:"text-center text-gray-600 mt-6",children:["N\xe3o tem conta?"," ",(0,s.jsx)(m.default,{href:"/register",className:"text-blue-600 font-semibold hover:underline",children:"Cadastre-se aqui"})]})]})})}},8223:function(e,a,t){"use strict";t.d(a,{ON:function(){return n}});let s=t(3464).Z.create({baseURL:"https://kw4d0mgz-3001.brs.devtunnels.ms",headers:{"Content-Type":"application/json"}});s.interceptors.request.use(e=>{let a=localStorage.getItem("token");return a&&(e.headers.Authorization="Bearer ".concat(a)),e});let n={register:e=>s.post("/auth/register",e),login:e=>s.post("/auth/login",e),getMe:()=>s.get("/auth/me")}}},function(e){e.O(0,[464,648,394,971,117,744],function(){return e(e.s=3517)}),_N_E=e.O()}]);