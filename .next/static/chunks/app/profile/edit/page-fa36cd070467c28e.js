(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[159],{1522:function(e,r,a){Promise.resolve().then(a.bind(a,3675))},9376:function(e,r,a){"use strict";var t=a(5475);a.o(t,"useRouter")&&a.d(r,{useRouter:function(){return t.useRouter}})},3675:function(e,r,a){"use strict";a.r(r),a.d(r,{default:function(){return d}});var t=a(7437),s=a(2265),l=a(8223),o=a(9376),n=a(3464);function d(){let e=(0,o.useRouter)(),[r,a]=(0,s.useState)(!0),[d,i]=(0,s.useState)(!1),[c,u]=(0,s.useState)(null),[m,b]=(0,s.useState)({nome:"",email:"",telefone:"",rg:"",estado:"",cidade:"",cep:"",bairro:"",logradouro:"",numero:"",complemento:""}),[g,x]=(0,s.useState)(""),[p,h]=(0,s.useState)("");(0,s.useEffect)(()=>{(async()=>{try{let e=await l.ON.getMe();u(e.data),b({nome:e.data.name||e.data.nome||"",email:e.data.email||"",telefone:e.data.telefone||"",rg:e.data.rg||"",estado:e.data.estado||"",cidade:e.data.cidade||"",cep:e.data.cep||"",bairro:e.data.bairro||"",logradouro:e.data.logradouro||"",numero:e.data.numero||"",complemento:e.data.complemento||""})}catch(r){e.push("/login")}finally{a(!1)}})()},[e]);let f=e=>{b({...m,[e.target.name]:e.target.value}),x(""),h("")},y=async r=>{r.preventDefault(),i(!0),x(""),h("");try{let r=localStorage.getItem("token");await n.Z.patch("".concat("https://kw4d0mgz-3001.brs.devtunnels.ms","/providers/").concat(c.id),m,{headers:{Authorization:"Bearer ".concat(r)}}),h("✅ Perfil atualizado com sucesso!"),setTimeout(()=>{e.push("/dashboard")},2e3)}catch(e){var a,t;console.error("Erro ao atualizar perfil:",e),x((null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message)||"Erro ao atualizar perfil. Tente novamente.")}finally{i(!1)}},j=()=>{e.push("/dashboard")};return r?(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:(0,t.jsx)("p",{className:"text-xl text-gray-600",children:"Carregando..."})}):(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-12 px-4",children:(0,t.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("button",{onClick:j,className:"text-blue-600 hover:text-blue-700 font-medium mb-4 flex items-center gap-2",children:"← Voltar para Dashboard"}),(0,t.jsx)("h1",{className:"text-4xl font-black text-gray-900",children:"Editar Perfil"}),(0,t.jsx)("p",{className:"text-gray-600 mt-2",children:"Atualize suas informa\xe7\xf5es pessoais"})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-8",children:[g&&(0,t.jsx)("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:(0,t.jsx)("p",{className:"text-red-800",children:g})}),p&&(0,t.jsx)("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:(0,t.jsx)("p",{className:"text-green-800",children:p})}),(0,t.jsxs)("form",{onSubmit:y,className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Informa\xe7\xf5es B\xe1sicas"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome Completo"}),(0,t.jsx)("input",{type:"text",name:"nome",value:m.nome,onChange:f,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Seu nome completo"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,t.jsx)("input",{type:"email",name:"email",value:m.email,onChange:f,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"seu@email.com"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telefone"}),(0,t.jsx)("input",{type:"text",name:"telefone",value:m.telefone,onChange:f,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"(11) 99999-9999"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Endere\xe7o"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CEP"}),(0,t.jsx)("input",{type:"text",name:"cep",value:m.cep,onChange:f,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"01310-100"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estado"}),(0,t.jsx)("input",{type:"text",name:"estado",value:m.estado,onChange:f,maxLength:2,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"SP"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cidade"}),(0,t.jsx)("input",{type:"text",name:"cidade",value:m.cidade,onChange:f,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"S\xe3o Paulo"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bairro"}),(0,t.jsx)("input",{type:"text",name:"bairro",value:m.bairro,onChange:f,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Centro"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Logradouro"}),(0,t.jsx)("input",{type:"text",name:"logradouro",value:m.logradouro,onChange:f,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Rua Principal"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"N\xfamero"}),(0,t.jsx)("input",{type:"text",name:"numero",value:m.numero,onChange:f,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"123"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Complemento"}),(0,t.jsx)("input",{type:"text",name:"complemento",value:m.complemento,onChange:f,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Apt 10"})]})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,t.jsx)("button",{type:"submit",disabled:d,className:"flex-1 px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:d?"Salvando...":"Salvar Altera\xe7\xf5es"}),(0,t.jsx)("button",{type:"button",onClick:j,disabled:d,className:"px-6 py-3 bg-gray-300 text-gray-700 font-semibold rounded-lg hover:bg-gray-400 transition-colors disabled:opacity-50",children:"Cancelar"})]})]})]}),(0,t.jsx)("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,t.jsxs)("p",{className:"text-sm text-blue-800",children:["\uD83D\uDCA1 ",(0,t.jsx)("strong",{children:"Dica:"})," Para alterar dados banc\xe1rios, CNPJ ou categorias de servi\xe7o, use o Assistente Virtual no dashboard."]})})]})})}},8223:function(e,r,a){"use strict";a.d(r,{ON:function(){return s}});let t=a(3464).Z.create({baseURL:"https://kw4d0mgz-3001.brs.devtunnels.ms",headers:{"Content-Type":"application/json"}});t.interceptors.request.use(e=>{let r=localStorage.getItem("token");return r&&(e.headers.Authorization="Bearer ".concat(r)),e});let s={register:e=>t.post("/auth/register",e),login:e=>t.post("/auth/login",e),getMe:()=>t.get("/auth/me")}}},function(e){e.O(0,[464,971,117,744],function(){return e(e.s=1522)}),_N_E=e.O()}]);